{% extends 'base_generic.html' %}

{% block title %}Edit Product{% endblock %}

{% block content %}
<div class="container mt-4">
  <h1 class="mb-4">Edit Product: {{ product.product_name }}</h1>

  <form method="post" enctype="multipart/form-data" class="needs-validation" novalidate>
    {% csrf_token %}
    
    <div class="form-group mb-3">
      <label for="id_product_name">Product Name</label>
      <input type="text" name="product_name" id="id_product_name" value="{{ form.product_name.value }}" class="form-control">
    </div>

    <div class="form-group mb-3">
      <label for="id_product_photo">Product Photo</label>
      <input type="file" name="product_photo" id="id_product_photo" class="form-control">
      {% if product.product_photo %}
      <div class="mt-2">
        <p>Current Photo:</p>
        <img src="{{ product.product_photo.url }}" alt="Current Product Photo" class="img-thumbnail" style="max-height: 200px;">
      </div>
      {% endif %}
    </div>

    <div class="form-group mb-3">
      <label for="id_product_type">Product Type</label>
      <input type="text" name="product_type" id="id_product_type" value="{{ form.product_type.value }}" class="form-control">
    </div>

    <div class="form-group mb-3">
      <label for="id_product_price">Product Price</label>
      <input type="number" name="product_price" id="id_product_price" value="{{ form.product_price.value }}" class="form-control">
    </div>

    <div class="form-group mb-3">
      <label for="id_product_weight">Product Weight</label>
      <input type="number" name="product_weight" id="id_product_weight" value="{{ form.product_weight.value }}" class="form-control">
    </div>

    
    <button type="submit" class="btn btn-success mt-3">Save Changes</button>
    <a href="{% url 'products:my_products' %}" class="btn btn-secondary mt-3">Back to My Products</a>
  </form>
</div>
{% endblock %}
